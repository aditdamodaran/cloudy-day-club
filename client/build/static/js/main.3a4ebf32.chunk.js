(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/default-playlist-cover.a5d25457.svg"},21:function(e,t,a){e.exports=a.p+"static/media/play-icon-circular.648136cd.svg"},37:function(e,t,a){e.exports=a.p+"static/media/splashscreen.806ccd56.jpg"},43:function(e,t,a){e.exports=a.p+"static/media/sound-icon-circular.14bd46c9.svg"},46:function(e,t,a){e.exports=a.p+"static/media/logo.6ddf2258.svg"},47:function(e,t,a){e.exports=a.p+"static/media/play-icon.718f9d87.svg"},48:function(e,t,a){e.exports=a.p+"static/media/pause-icon.93c1a16b.svg"},49:function(e,t,a){e.exports=a.p+"static/media/list-icon.64135525.svg"},50:function(e,t,a){e.exports=a.p+"static/media/logout-icon.144ff030.svg"},52:function(e,t,a){e.exports=a(90)},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),o=a.n(r),l=a(5),s=a(6),c=a(10),d=a(9),p=a(8),m=a(1),u={spotifygreen:"#1BB954",spotifydarkgray:"#111",spotifydarkgray2:"#1B1B1B",login:{background:"#1B1B1B",white:"white",fontFamily:"ProximaNova-Bold"},playlists:{fontFamily:"ProximaNova-SemiBold"}},y=a(37),h=a.n(y),f=["#cc7ae2","#5d86ba","#12adea","#7ea04d","#f97116","#f74040","#d54062"],g=f[Math.floor(Math.random()*f.length)],b=m.b.div.withConfig({displayName:"Login__PageContainer",componentId:"adr43s-0"})(["width:100%;height:100vh;overflow-x:hidden;overflow-y:hidden;display:flex;flex-wrap:nowrap;background:",";"],(function(e){return e.theme.login.background})),w=m.b.div.withConfig({displayName:"Login__LoginContainer",componentId:"adr43s-1"})(["height:100%;padding:0rem 0rem;display:flex;align-items:center;z-index:3;"]),v=m.b.div.withConfig({displayName:"Login__ColorContainer",componentId:"adr43s-2"})(["height:100%;display:flex;width:100%;overflow-y:hidden;background:",";position:absolute;filter:brightness(.8) saturate(0.5);"],g),k=m.b.div.withConfig({displayName:"Login__LoginImage",componentId:"adr43s-3"})(["background:url(",");background-size:cover !important;background-repeat:no-repeat !important;background-position:center center !important;width:50%;height:100%;flex-grow:1;z-index:3;"],h.a),E=m.b.div.withConfig({displayName:"Login",componentId:"adr43s-4"})(["width:100%;height:50%;padding:4rem;overflow:hidden;color:",";font-family:-apple-system,BlinkMacSystemFont,sans-serif;margin:0;h1{margin:0;font-size:4.5rem;}h2{margin:0;font-size:1.75rem;}@media (max-width:","){text-align:center;padding:1rem;margin:0 auto;height:75%;h1{margin:0 auto;font-size:3rem;}h2{margin:0 auto;font-size:1rem;}}"],(function(e){return e.theme.login.white}),"768px"),_=m.b.button.withConfig({displayName:"Login__LoginButton",componentId:"adr43s-5"})(["background:",";color:white;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-weight:bold;font-size:1rem;padding:1rem 2rem;margin:1rem 0rem;border:none;border-radius:2rem;cursor:pointer;&:hover{background:#02A03B;}"],(function(e){return e.theme.spotifygreen})),x=m.b.h2.withConfig({displayName:"Login__LoginPageText",componentId:"adr43s-6"})(["padding-top:1rem;padding-bottom:1rem;"]),C=m.b.p.withConfig({displayName:"Login__Notices",componentId:"adr43s-7"})(["color:white;a{color:white;}font-weight:200;font-size:1.1rem;font-family:-apple-system,BlinkMacSystemFont,sans-serif;@media (max-width:","){font-size:1rem;}"],"768px"),N=function(){return i.a.createElement(m.a,{theme:u},i.a.createElement(b,null,i.a.createElement(v,{className:"slideUp"}),i.a.createElement(w,{className:"becomeTransparent"},i.a.createElement(E,null,i.a.createElement("h1",{id:"login-page-header",className:"fadeInFast"},i.a.createElement("span",{role:"img","aria-label":"cloud"},"\u2601\ufe0f")," Day Club"),i.a.createElement(x,{className:"fadeInSlow"},"Your ",i.a.createElement("span",{className:"greenToWhite"},"Spotify Playlists"),", with a splash of",i.a.createElement("br",null),i.a.createElement("span",{className:"colourSpan"},i.a.createElement("span",{className:"purpleToWhite"}," c"),i.a.createElement("span",{className:"blueToWhite"},"o"),i.a.createElement("span",{className:"greenToWhite"},"l"),i.a.createElement("span",{className:"yellowToWhite"},"o"),i.a.createElement("span",{className:"orangeToWhite"},"u"),i.a.createElement("span",{className:"redToWhite"},"r ")),"for those cloudy days."),i.a.createElement("a",{href:"https://cloudy-day-club.herokuapp.com/login",className:"fadeInSlower"},i.a.createElement(_,null,"Login with Spotify Premium")),i.a.createElement(C,{className:"fadeInSlower"},"Dear music loving friend:",i.a.createElement("br",null),i.a.createElement("a",{href:"https://developer.spotify.com/documentation/web-playback-sdk/#supported-browsers"},"Spotify's Web Player SDK does not support Safari or mobile devices yet."),i.a.createElement("br",null),"Cloudy Day Club works on Chrome, Brave, Firefox, and Edge."))),i.a.createElement(k,{id:"login-image"})))},P=a(3),S=a.n(P),I=a(7),j=a(2),O=a.n(j),A=a(51),L=a(41),T=a.n(L),D=function(e){var t=Object(A.a)(e,3),a=t[0],n=t[1],i=t[2],r=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};return"#"+r(a)+r(n)+r(i)},B=function(e){return function(){return e.apply(void 0,arguments).catch((function(e){console.error(e)}))}},R=function(e){window.localStorage.setItem("spotify_token_timestamp",Date.now()),window.localStorage.setItem("spotify_access_token",e)},z=function(){return window.localStorage.getItem("spotify_refresh_token")},F=function(){var e=Object(I.a)(S.a.mark((function e(){var t,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/refresh_token?refresh_token=".concat(z()));case 3:return t=e.sent,a=t.data,n=a.access_token,R(n),window.location.reload(),e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}(),t=e.error,a=e.access_token,n=e.refresh_token;t&&(console.error("HASH PARAMS",t),F()),Date.now()-window.localStorage.getItem("spotify_token_timestamp")>36e5&&(console.warn("Access token has expired, refreshing..."),F());var i,r=window.localStorage.getItem("spotify_access_token"),o=z();return o&&"undefined"!==o||(i=n,window.localStorage.setItem("spotify_refresh_token",i)),r&&"undefined"!==r?r:(R(a),a)},H=M(),W=function(){window.localStorage.removeItem("spotify_token_timestamp"),window.localStorage.removeItem("spotify_access_token"),window.localStorage.removeItem("spotify_refresh_token"),window.location="https://cloudy-day-club.herokuapp.com"},Y={Authorization:"Bearer ".concat(H),"Content-Type":"application/json"},K=function(){return O.a.get("https://api.spotify.com/v1/me/playlists",{params:{limit:50},headers:Y})},U=function(e){return O.a.get("https://api.spotify.com/v1/playlists/".concat(e),{headers:Y})},q=function(e){var t=function(e){return e.map((function(e){return e.track.id})).join(",")}(e);return O.a.get("https://api.spotify.com/v1/audio-features?ids=".concat(t),{headers:Y})},G=a(12),J=m.b.div.withConfig({displayName:"PlaylistContainer__PlaylistItem",componentId:"sc-1jgj1pa-0"})(["margin:0 auto;width:100%;vertical-align:top;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-weight:600;"]),Q=m.b.div.withConfig({displayName:"PlaylistContainer__PlaylistCoverContainer",componentId:"sc-1jgj1pa-1"})(["width:100%;display:inline-block;"]),$=m.b.div.withConfig({displayName:"PlaylistContainer__PlaylistCover",componentId:"sc-1jgj1pa-2"})(["  width:100%;height:0;padding-bottom:100%;"]),V=function(e){var t=e.image,a=e.link,n=e.name;return i.a.createElement(J,null,i.a.createElement(G.a,{to:a},i.a.createElement(Q,null,i.a.createElement($,{className:"playlist-cover",style:{background:"url(".concat(t||"",")")},alt:n}))),i.a.createElement(G.a,{to:a,className:"playlist-link"},n))},X=a(20),Z=a.n(X),ee=m.b.div.withConfig({displayName:"Loader",componentId:"sc-1op2stc-0"})(["width:100%;height:100%;display:grid;flex-grow:1;place-content:center;"]),te=m.b.div.withConfig({displayName:"Loader__Spinner",componentId:"sc-1op2stc-1"})([""]),ae=function(){return i.a.createElement(ee,null,i.a.createElement(te,{className:"loader loader-1"},i.a.createElement("div",{className:"loader-outer"}),i.a.createElement("div",{className:"loader-inner"})))},ne=m.b.div.withConfig({displayName:"Playlists__PlaylistsGridContainer",componentId:"kqy2pi-0"})(["display:flex;flex-direction:column;width:90%;min-height:75vh;margin:2rem auto;margin-bottom:5rem;flex-wrap:wrap;"]),ie=m.b.h2.withConfig({displayName:"Playlists__PlaylistsHeader",componentId:"kqy2pi-1"})(["flex-basis:100%;color:white;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-size:2rem;"]),re=m.b.div.withConfig({displayName:"Playlists__PlaylistsGrid",componentId:"kqy2pi-2"})(["display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:1.2rem;grid-row-gap:1.2rem;"]),oe=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={networkRequestMade:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){B(this.getData()),0===Object.keys(this.props.cache.playlists).length&&(console.log("Network Request"),B(this.getData()))}},{key:"getData",value:function(){var e=Object(I.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:t=e.sent,a=t.data,this.setState({playlists:a,networkRequestMade:!0}),this.props.cachePlaylists({playlists:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.playlists;return 0===Object.keys(this.props.cache.playlists).length||this.state.networkRequestMade||(e=this.props.cache.playlists),i.a.createElement(ne,null,i.a.createElement(ie,null,"Playlists"),e?i.a.createElement(re,{id:"playlist-grid"},e.items.map((function(e){return i.a.createElement(V,{key:e.id,link:"playlist/".concat(e.id),name:e.name,image:0!==e.images.length?e.images[0].url:Z.a})}))):i.a.createElement(ae,null))}}]),a}(i.a.Component),le=Object(p.b)((function(e){return{cache:e.cache}}),(function(e){return{cachePlaylists:function(t){return e({type:"CACHE_PLAYLISTS",playlists:t.playlists})}}}))(oe),se=a(11),ce=m.b.div.withConfig({displayName:"PlaylistHeader__PlaylistHeaderContainer",componentId:"rm8beh-0"})(["margin:2rem auto;width:90%;display:flex;img{display:flex;width:12.5vw;height:12.5vw;object-fit:cover;}"]),de=m.b.div.withConfig({displayName:"PlaylistHeader__PlaylistInfo",componentId:"rm8beh-1"})(["display:flex;flex-wrap:wrap;flex-basis:70%;flex-grow:1;margin-left:1rem;width:90%;color:white;"]),pe=m.b.h1.withConfig({displayName:"PlaylistHeader__PlaylistTitle",componentId:"rm8beh-2"})(["  font-family:-apple-system,BlinkMacSystemFont,sans-serif;margin:0 0;margin-bottom:2rem;font-size:2.5rem;width:90%;align-self:flex-start;"]),me=m.b.div.withConfig({displayName:"PlaylistHeader__SubHeader",componentId:"rm8beh-3"})(["align-self:flex-end;"]),ue=m.b.h3.withConfig({displayName:"PlaylistHeader__PlaylistCreator",componentId:"rm8beh-4"})(["width:100%;display:block;color:white;font-weight:500;font-size:1rem;font-family:-apple-system,BlinkMacSystemFont,sans-serif;margin:0;margin-bottom:0.3rem;a{color:white;}"]),ye=m.b.a.withConfig({displayName:"PlaylistHeader__OpenWithSpotify",componentId:"rm8beh-5"})(["margin:0;color:white;font-family:-apple-system,BlinkMacSystemFont,sans-serif;"]),he=function(e){var t=e.name,a=e.image,n=e.ownerUrl,r=e.ownerName,o=e.spotifyUrl;return i.a.createElement(ce,null,i.a.createElement("img",{alt:"Playlist cover for ".concat(t),src:a}),i.a.createElement(de,null,i.a.createElement(pe,null,t),i.a.createElement(me,null,i.a.createElement(ue,null,"By: ",i.a.createElement("a",{href:n},r)),i.a.createElement(ye,{href:o},"Open this playlist with Spotify"))))},fe=a(21),ge=a.n(fe),be=a(43),we=a.n(be),ve=m.b.img.withConfig({displayName:"PlayButton__PlayButtonStyle",componentId:"sc-1nf41rv-0"})(["opacity:",";"],(function(e){return e.nowPlaying?"0.3":"1"})),ke=function(e){var t=e.nowPlaying,a=e.albumArt,n=e.uri,r=e.trackName,o=e.playOnKeyDown,l=e.playOnClick;return i.a.createElement(ve,{alt:"play-icon",nowPlaying:t,src:t?we.a:ge.a,tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&o(a,n,r)},onClick:function(){return l(a,n,r)}})},Ee=a(44),_e=a.n(Ee),xe=m.b.table.withConfig({displayName:"Playlist__PlaylistItems",componentId:"u6r9px-0"})(["color:white;display:grid;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-size:0.8rem;min-width:100%;grid-template-columns:minmax(75px,1fr) minmax(150px,2fr) minmax(150px,2fr) minmax(150px,1fr);thead,tbody,tr{display:contents;}th,td{padding:0.7rem;padding-left:0.3rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}th{top:0;text-align:left;font-weight:normal;font-size:0.8rem;font-weight:600;color:white;}th:last-child{border:0;}td{display:flex;border-top:1px solid #3A3A3A;align-items:center;}td:first-child{img{width:20%;filter:brightness(0) invert(1);margin:0 auto;padding:0;cursor:pointer;&:hover{opacity:0.75;}}}td{padding:0.5rem 0.3rem;color:#CACACA;}"]),Ce=m.b.div.withConfig({displayName:"Playlist__TableText",componentId:"u6r9px-1"})(["display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:90%;"]),Ne=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formatTime=function(e){var t=e/1e3,a=parseInt(t/60),n=parseInt(t-60*a);return n=("0"+n).slice(-2),"".concat(a,":").concat(n)},n.handlePlay=n.handlePlay.bind(Object(se.a)(n)),n.state={playlist:null,tracks:null,audioFeatures:null,combined:{},paused:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){B(this.getData())}},{key:"getData",value:function(){var e=Object(I.a)(S.a.mark((function e(){var t,a,n,i,r,o,l,s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.playlistId,e.next=3,U(t);case 3:if(a=e.sent,n=a.data,this.setState({playlist:n}),!n){e.next=17;break}return i=this.state.playlist,e.next=10,q(i.tracks.items);case 10:r=e.sent,o=r.data,l=o.audio_features.reduce((function(e,t){return e[t.id]={acousticness:t.acousticness,danceability:t.danceability,energy:t.energy,instrumentalness:t.instrumentalness,speechiness:t.speechiness,temp:t.tempo,valence:t.valence},e}),{}),s=i.tracks.items.map((function(e){return e.track})).reduce((function(e,t){return e[t.id]={trackArtist:t.artists[0].name,trackLength:t.duration_ms,trackName:t.name,albumArt:t.album.images[0].url,albumName:t.album.name},e}),{}),console.log(s,l),c=_e()(s,l),this.setState({audioFeatures:o,combined:c});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePlay",value:function(e,t,a){this.props.playback.pauseTrack&&this.props.playback.uri===t||this.props.playTrack({albumArt:e,uri:t,name:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.combined,n=t.playlist;return i.a.createElement("div",null,n?i.a.createElement(he,{name:n.name,image:0!==n.images.length?n.images[0].url:Z.a,ownerUrl:n.owner.external_urls.spotify,ownerName:n.owner.display_name,spotifyUrl:n.external_urls.spotify}):i.a.createElement(ae,null),0!==Object.keys(a).length?i.a.createElement("div",{className:"fadeinFast"},i.a.createElement(xe,null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",null,"NAME"),i.a.createElement("th",null,"ARTIST"),i.a.createElement("th",null,"LENGTH"))),i.a.createElement("tbody",null,Object.keys(a).map((function(t,n){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.props.playback.playerReady?i.a.createElement(ke,{nowPlaying:e.props.playback.uri===t,albumArt:a[t].albumArt,uri:t,trackName:a[t].trackName,playOnKeyDown:e.handlePlay.bind(e),playOnClick:e.handlePlay.bind(e)}):i.a.createElement("img",{alt:"play-icon-loading",src:ge.a})),i.a.createElement("td",null,i.a.createElement(Ce,null,a[t].trackName)),i.a.createElement("td",null,i.a.createElement(Ce,null,a[t].trackArtist)),i.a.createElement("td",null,e.formatTime(a[t].trackLength)))}))))):i.a.createElement(ae,null))}}]),a}(n.Component),Pe=Object(p.b)((function(e){return{playback:e.playback,cache:e.cache}}),(function(e){return{playTrack:function(t){return e({type:"PLAY_TRACK",albumArt:(a=t).albumArt,uri:a.uri,name:a.name});var a}}}))(Ne),Se=a(45),Ie=a.n(Se),je=a(46),Oe=a.n(je),Ae=m.b.h1.withConfig({displayName:"NowPlayingText__NowPlaying",componentId:"sc-1iiuwxm-0"})(["font-family:-apple-system,BlinkMacSystemFont,sans-serif;text-align:center;flex-basis:100%;width:100%;font-size:2.4rem;"]),Le=function(e){var t=e.lightText,a=e.trackName;return i.a.createElement(Ae,{style:{color:"".concat(t?"white":"black")}},""===a?"Welcome to Cloudy Day Club":a)},Te=a(47),De=a.n(Te),Be=a(48),Re=a.n(Be),ze=m.b.div.withConfig({displayName:"Controls__ControlsContainer",componentId:"fgfr3y-0"})(["display:flex;justify-content:center;width:100%;"]),Fe=m.b.div.withConfig({displayName:"Controls__CircularContainer",componentId:"fgfr3y-1"})(["z-index:0;width:5vw;height:5vw;display:flex;justify-content:center;align-content:center;border-radius:50%;cursor:pointer;&:hover{opacity:0.75;}"]),Me=m.b.img.withConfig({displayName:"Controls__TogglePlay",componentId:"fgfr3y-2"})(["z-index:1;width:50%;"]),He=function(e){var t=e.lightText,a=e.togglePlayback,n=e.paused;return i.a.createElement(ze,null,i.a.createElement(Fe,{style:{border:"".concat(t?"3px solid white":"3px solid black")},onClick:function(){return a()},onKeyDown:function(e){"Enter"===e.key&&a()}},i.a.createElement(Me,{tabIndex:0,src:n?De.a:Re.a,style:{filter:"".concat(t?"brightness(0) invert(1)":"brightness(0)")}})))},We=m.b.img.withConfig({displayName:"StandardPlayer__AlbumArt",componentId:"sc-5zgv2b-0"})(["width:20vw;height:20vw;border:none;"]),Ye=m.b.div.withConfig({displayName:"StandardPlayer__PlayerSection",componentId:"sc-5zgv2b-1"})(["height:50%;display:flex;justify-content:center;flex-wrap:wrap;"]),Ke=function(e){var t=e.albumArt,a=e.lightText,n=e.trackName,r=e.uri,o=e.paused,l=e.playerReady,s=e.togglePlayback;return i.a.createElement(Ye,{className:"fadeInFast"},i.a.createElement(We,{id:"album-art",src:t||Oe.a}),i.a.createElement(Le,{lightText:a,trackName:n}),l&&""!==r?i.a.createElement(He,{lightText:a,togglePlayback:s,paused:o}):i.a.createElement("div",null))},Ue=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleLoadSuccess=n.handleLoadSuccess.bind(Object(se.a)(n)),n.handleLoadFailure=n.handleLoadSuccess.bind(Object(se.a)(n)),n.togglePlayback=n.togglePlayback.bind(Object(se.a)(n)),n.cb=n.cb.bind(Object(se.a)(n)),n.nodeRef=i.a.createRef(null),n.state={playerReady:!1,trackName:"",currentPosition:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.onSpotifyWebPlaybackSDKReady=function(){e.handleLoadSuccess()}}},{key:"componentDidUpdate",value:function(e,t){""!==this.props.playback.uri&&e.playback.uri!==this.props.playback.uri&&this.executePlaySong(this.props.playback.uri)}},{key:"handleLoadSuccess",value:function(){var e=Object(I.a)(S.a.mark((function e(){var t,a=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({scriptLoaded:!0}),e.next=3,M();case 3:t=e.sent,this.player=new window.Spotify.Player({name:"Web Playback SDK Quick Start Player",getOAuthToken:function(e){e(t)}}),this.player.addListener("initialization_error",(function(e){var t=e.message;console.error(t)})),this.player.addListener("authentication_error",(function(e){var t=e.message;console.error(t)})),this.player.addListener("account_error",(function(e){var t=e.message;console.error(t)})),this.player.addListener("playback_error",(function(e){var t=e.message;console.error(t)})),this.player.addListener("player_state_changed",(function(e){e&&a.setState({paused:e.paused})})),this.player.addListener("ready",(function(e){var t=e.device_id;a.setState({playerReady:!0}),a.deviceId=t,console.log("Ready with Device ID",t),a.props.setPlayerReady()})),this.player.addListener("not_ready",(function(e){var t=e.device_id;console.log("Device ID has gone offline",t)})),this.player.connect();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cb",value:function(e){return e}},{key:"handleScriptCreate",value:function(){this.setState({scriptLoaded:!1}),console.log("Script created")}},{key:"handleScriptError",value:function(){this.setState({scriptError:!0}),console.log("Script error")}},{key:"handleScriptLoad",value:function(){this.setState({scriptLoaded:!0}),console.log("Script loaded")}},{key:"executePlaySong",value:function(e){this.deviceId&&function(e,t){var a="https://api.spotify.com/v1/me/player/play?device_id=".concat(t),n={uris:["spotify:track:".concat(e)]};O.a.put(a,n,{headers:Y})}(e,this.deviceId)}},{key:"togglePlayback",value:function(){this.player.togglePlay(),this.props.togglePlay()}},{key:"executeResumeSong",value:function(){!function(e){var t={device_id:e};O.a.put("https://api.spotify.com/v1/me/player/play",t,{headers:Y})}(this.deviceId)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Ke,{albumArt:this.props.playback.albumArt,lightText:this.props.lightText,trackName:this.props.playback.trackName,playerReady:this.state.playerReady,uri:this.props.playback.uri,paused:this.state.paused,togglePlayback:this.togglePlayback.bind(this)}),i.a.createElement("header",null,i.a.createElement(Ie.a,{url:"https://sdk.scdn.co/spotify-player.js",onCreate:this.handleScriptCreate.bind(this),onError:this.handleScriptError.bind(this),onLoad:this.handleScriptLoad.bind(this)})))}}]),a}(n.Component),qe=Object(p.b)((function(e){return{playback:e.playback}}),(function(e){return{setPlayerReady:function(){return e({type:"SET_PLAYER_READY"})},togglePlay:function(){return e({type:"TOGGLE_PLAY"})}}}))(Ue),Ge=m.b.div.withConfig({displayName:"PlayerContainer__PlayerPageContainer",componentId:"sc-1ks17xh-0"})(["height:100%;flex-grow:1;flex-basis:40%;display:grid;place-content:center;-webkit-transition:background-color 1.3s ease-in-out;-ms-transition:background-color 1.3s ease-in-out;transition:background-color 1.3s ease-in-out;"]),Je=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).nodeRef=i.a.createRef(null),n.state={color:"#5F2233",lightText:!0},n}return Object(s.a)(a,[{key:"getAlbumColor",value:function(){var e=Object(I.a)(S.a.mark((function e(t){var a,n,i,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l=t,O.a.post("https://cloudy-day-club.herokuapp.com/colors",{url:l});case 2:a=e.sent,n=D(a.data),o=a.data,i=T.a.rgb(o).isDark(),r=this.props.playback.trackName,this.setState({color:n,lightText:i,trackName:r});case 7:case"end":return e.stop()}var o,l}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){if(e.playback.uri!==this.props.playback.uri){var a=this.props.playback.albumArt;a!==e.playback.albumArt&&B(this.getAlbumColor(a))}else e.playback.uri===this.props.playback.uri&&this.state.color}},{key:"render",value:function(){return i.a.createElement(Ge,{ref:this.nodeRef,style:{backgroundColor:"".concat(this.state.color)}},i.a.createElement(qe,{lightText:this.state.lightText}))}}]),a}(n.Component),Qe=Object(p.b)((function(e){return{playback:e.playback}}),void 0)(Je),$e=a(49),Ve=a.n($e),Xe=a(50),Ze=a.n(Xe),et=m.b.div.withConfig({displayName:"Navbar__NavigationContainer",componentId:"sc-3petg-0"})(["display:grid;height:95%;width:80%;margin:auto;"]),tt=m.b.div.withConfig({displayName:"Navbar__NavIcon",componentId:"sc-3petg-1"})(["width:100%;display:flex;flex-direction:column;filter:brightness(0) invert(1);opacity:0.8;transition:opacity 0.1s;&:hover{opacity:0.4;}.nav-icon{width:50%;margin:0 auto;}p{font-size:0.75rem;margin:0 auto;padding:0;font-family:-apple-system,BlinkMacSystemFont,sans-serif;padding-bottom:1rem;font-weight:100;}"]),at=m.b.div.withConfig({displayName:"Navbar__LogoutIcon",componentId:"sc-3petg-2"})(["width:100%;display:flex;flex-direction:column;align-self:flex-end;filter:brightness(0) invert(1);opacity:0.8;transition:opacity 0.1s;&:hover{opacity:0.4;}.nav-icon{width:50%;margin:0 auto;}p{font-size:0.75rem;margin:0 auto;padding:0;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-weight:100;}"]),nt=m.b.nav.withConfig({displayName:"Navbar__Navigation",componentId:"sc-3petg-3"})(["color:white;display:flex;flex-wrap:wrap;height:90%;align-self:end;"]),it=function(){return i.a.createElement(et,null,i.a.createElement(nt,{className:"fadeInFast"},i.a.createElement(tt,null,i.a.createElement(G.a,{to:"/",className:"nav-icon"},i.a.createElement("img",{src:Ve.a,alt:"playlists"})),i.a.createElement("p",null,"Playlists")),i.a.createElement(at,null,i.a.createElement(G.a,{to:"/",onClick:W,className:"nav-icon"},i.a.createElement("img",{src:Ze.a,alt:"logout",style:{transform:"rotate(180deg)"}})),i.a.createElement("p",null,"Logout"))))},rt=m.b.div.withConfig({displayName:"Dashboard__DashboardContainer",componentId:"cvliuz-0"})(["width:100%;height:100vh;display:flex;"]),ot=m.b.div.withConfig({displayName:"Dashboard__NavbarContainer",componentId:"cvliuz-1"})(["display:flex;justify-content:center;overflow-x:hidden;background:darkred;height:100%;width:4rem;min-width:4rem;position:fixed;background:",";"],(function(e){return e.theme.spotifydarkgray})),lt=m.b.div.withConfig({displayName:"Dashboard__InterfaceContainer",componentId:"cvliuz-2"})(["overflow-y:scroll;margin-left:4rem;background:#2b2a2a;flex-basis:55%;"]),st=function(){return i.a.createElement(m.a,{theme:u},i.a.createElement(rt,null,i.a.createElement(ot,null,i.a.createElement(it,null)),i.a.createElement(lt,null,i.a.createElement(G.b,null,i.a.createElement(le,{path:"/"}),i.a.createElement(Pe,{path:"/playlist/:playlistId"}))),i.a.createElement(Qe,null)))},ct=a(15),dt=a(13),pt={playerReady:!1,pauseTrack:!1,uri:"",albumArt:"",defaultColor:"#5F2233",albumColors:[],trackName:""},mt={playlists:{}},ut=Object(ct.b)({playback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_PLAY":return Object(dt.a)(Object(dt.a)({},e),{},{pauseTrack:!e.pauseTrack});case"SET_PLAYER_READY":return Object(dt.a)(Object(dt.a)({},e),{},{playerReady:!0});case"PLAY_TRACK":return Object(dt.a)(Object(dt.a)({},e),{},{pauseTrack:!1,uri:t.uri,albumArt:t.albumArt,trackName:t.name});default:return e}},cache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CACHE_PLAYLISTS":return{playlists:t.playlists};default:return e}}}),yt=(a(89),Object(ct.c)(ut)),ht=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={token:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({token:H})}},{key:"render",value:function(){var e=this.state.token;return i.a.createElement("div",null,e?i.a.createElement(p.a,{store:yt},i.a.createElement(st,null)):i.a.createElement(N,null))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ht,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.3a4ebf32.chunk.js.map